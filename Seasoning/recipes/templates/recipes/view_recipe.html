{% extends "base.html" %}
{% load markdown_filter %}

{% block meta_description %}{{ recipe.description }}{% endblock %}

{% block title %}{% if edit %}Recept {% if recipe.is_temp %}toevoegen{% else %}wijzigen{% endif %}{% else %}{{ recipe.name }}{% endif %}{% endblock %}

{% block extra_link %}
{% if LOCAL_TEST %}
<link href='{{ STATIC_URL }}dev/LobsterTwo.css' rel='stylesheet' type='text/css'>
{% else %}
<link href='https://fonts.googleapis.com/css?family=Lobster+Two' rel='stylesheet' type='text/css'>
{% endif %}
{% endblock %}

{% block extra_script %}
	{% if edit %}
	<script type="text/javascript"> 
		var ingredient_list_url = "{% url 'ajax_ingredient_name_list' %}";
		var ingredient_units_url = "{% url 'ajax_ingredient_units' %}"
	</script>
	<script src="{{ STATIC_URL }}js/jquery-ui.min.js"></script>
	<script src="{{ STATIC_URL }}js/forms.js"></script>
	<script src="{{ STATIC_URL }}js/edit_recipe.js"></script>
	<script src="{{ STATIC_URL }}js/edit_recipe_ingredients.js"></script>
	{% else %}
	<script src="{{ STATIC_URL }}js/jquery-ui.min.js"></script>
	
	<script src="//oss.maxcdn.com/jquery.form/3.50/jquery.form.min.js"></script>
	
	<link  href="{{ STATIC_URL }}css/plugins/jquery.Jcrop.min.css" rel="stylesheet">
	<script src="{{ STATIC_URL }}js/plugins/jquery.Jcrop.js"></script>
	
	<script src="{{ STATIC_URL }}js/ingredient_availability.js"></script>
	<script type="text/javascript"> 
	   var recipe_id = {{ recipe.id }};
	   var upvote_url = "{% url 'upvote_recipe' recipe.id %}";
	   var downvote_url = "{% url 'downvote_recipe' recipe.id %}";
	   var orig_recipe_portions = {{ recipe.portions }}
	   {% if recipe.is_temp %}
	   var recipe_portions_url = "{% url 'ajax_incomplete_recipe_ingredients' recipe.id "0000" %}"
	   {% else %}
	   var recipe_portions_url = "{% url 'ajax_recipe_ingredients' recipe.id "0000" %}"
	   {% endif %}
	   var ingredients_avail_ajax_url = "{% url 'ajax_ingredient_availability' %}";
	   var static_url = {{ STATIC_URL }};
	   var finish_recipe_image_url = "{% url 'ajax_finish_recipe_image' '0000' %}";
	</script>
	<script src="{{ STATIC_URL }}js/view_recipe.js"></script>
	{% endif %}
{% endblock %}

{% block before-content %}{% endblock %}

{% block content %}

{% block messages %}{% endblock %}

{% if edit %}
<form id="edit-recipe-form" action="{% if recipe.is_temp %}{% url 'ajax_edit_incomplete_recipe' recipe.id %}{% else %}{% url 'ajax_edit_recipe' recipe.id %}{% endif %}" method="post">
	{% csrf_token %}
{% endif %}

<div id="recipe-header-container" class="row">
	<div id="recipe-header" class="col-xs-12">
		<div id="recipe-header-top" class="recipe-image-overlay row">
			<div id="recipe-name-info" class="col-xs-12 text-center">
				{% if edit %}
				<h1 id="recipe-name">
					<span class="editable-field" default="(Naam van het recept)">{{ recipe.name }}</span>
					{{ form.name|default_if_none:'' }}
				</h1>
				{% else %}
				<h1>{{ recipe.name }}</h1>
				<span id="add-info">
				    	{% if recipe.external %}
				    	<span id="author">Recept van <a href="{{ recipe.external_site.url }}" target="_blank">{{ recipe.external_site.name }}</a></span>
				    	{% else %}
				        <span id="author">Toegevoegd door <a href="{% url 'user_profile' recipe.author.id %}">{{ recipe.author.get_full_name }}</a></span><br />
				        {% endif %}
				</span>
				{% endif %}
			</div>
				
			{% if recipe.author == user or user.is_staff %}
			{% if not edit %}
			<div id="recipe-actions" class="dropdown">
				<button class="btn btn-default dropdown-toggle pull-right" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
			    	Opties
			    	<span class="caret"></span>
				</button>
			  	<ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenu1">
			    	<li role="presentation">
			    		{% if recipe.is_temp %}
				    	<a role="menuitem" tabindex="-1" href="{% url 'edit_incomplete_recipe' recipe.id %}" title="Wijzig dit recept">Recept Wijzigen</a>
				   		{% else %}
				    	<a role="menuitem" tabindex="-1" href="{% url 'edit_recipe' recipe.id %}" title="Wijzig dit recept">Recept Wijzigen</a>
				    	{% endif %}
				    </li>
				    <li role="presentation">
				    	{% if recipe.is_temp %}
				    	<a role="menuitem" tabindex="-1"
				    	   href="{% url 'delete_incomplete_recipe' recipe.id %}" 
			               title="Verwijder dit recept" 
			               onclick="return confirm('Weet u zeker dat u dit recept wil verwijderen?')">Recept Verwijderen</a>
				    	{% else %}
				    	<a role="menuitem" tabindex="-1"
				    	   href="{% url 'delete_recipe' recipe.id %}" 
			               title="Verwijder dit recept" 
			               onclick="return confirm('Weet u zeker dat u dit recept wil verwijderen?')">Recept Verwijderen</a>
			            {% endif %}
				    </li>
			  	</ul>
			</div>
			{% endif %}
		    {% endif %}
		</div>
		
		<div id="extra-stuff" class="col-xs-12">
			{% if messages %}
			{% for message in messages %}
			<div class="alert alert-dismissable alert-{{ message.tags }}">
			  	<button type="button" class="close" data-dismiss="alert">×</button>
			  	<p>{{ message }}</p>
			</div>
		   	{% endfor %}
			{% endif %}
			
			<div id="image-upload-progress" class="progress progress-striped active">
			  	<div class="progress-bar progress-bar-success" style="width: 0%">
			  		<span class="progress-text">Afbeelding wordt geupload (<span id="image-upload-progress-text"></span>)</span>
			  	</div>
			</div>
		</div>
	    
		<div class="row">
	        	 
	       	{% if not edit %}
		    <form id="upload-image-form" action="{% url 'ajax_upload_recipe_image' recipe.id %}" method="POST" enctype="multipart/form-data">
				{% csrf_token %}
				{{ upload_image_form.image }}
		 	</form>
			{% endif %}
			
			<div id="recipe-images-carousel" class="carousel slide" 
				 data-ride="carousel"
			 	 data-interval="false">
		  
		    	<!-- Indicators -->
		  		<ol class="carousel-indicators">
		  			{% for image in images %}
		  			<li data-target="#recipe-images-carousel" 
		  			    data-slide-to="{{ forloop.counter0 }}" 
		  			    {% if forloop.first %}class="active"{% endif %}>
		  				
		  				<span style="position:relative;">
			                {% if image.added_by == user or recipe.author == user or user.is_staff %}
			                {% if not edit %}
			                <a class="remove-image-button" href="{% url 'delete_recipe_image' image.id %}" title="Verwijder deze afbeelding"><img src="{{ STATIC_URL }}img/icons/delete.png" alt="" /></a>
			                {% endif %}
			                {% endif %}
		                	<img class="slide-thumb" src="{{ image.thumbnail.url }}" />
		                </span>
		  			</li>
		  			{% endfor %}
		  			{% if not edit %}
		  			<li onclick="$('#upload-image-form input#id_image').click();return false;"
		  				title="Voeg een nieuwe afbeelding toe">
		  				<span style="position:relative;">
			                <img class="slide-thumb" src="{{ STATIC_URL }}img/decoration/add_image.png" />
		                </span>
		  			</li>
		  			{% endif %}
		  		</ol>
		
		  		<!-- Wrapper for slides -->
		  		<div class="carousel-inner" role="listbox">
		  			{% for image in images %}
		  			<div class="item{% if forloop.first %} active{% endif %}" style="background-image: url('{{ image.image.url }}');background-size: {{ image.bg_width|default_if_none:"auto" }}{% if image.width %}%{% endif %} {{ image.bg_height|default_if_none:"auto" }}{% if image.bg_height %}%{% endif %};background-position: {{ image.bg_x|default_if_none:0 }}% {{ image.bg_y|default_if_none:0 }}%;">
		    		</div>
		            {% empty %}	
		  			<div class="item active" style="background-image: url('{{ MEDIA_URL }}images/recipes/no-image.png');background-repeat:no-repeat;background-size: auto;background-position: center; center;">
		    		</div>	            
		            {% endfor %}
		            
		  		</div>
		
		  		<!-- Controls -->
		  		<a class="left carousel-control" href="#recipe-images-carousel" role="button" data-slide="prev">
		    		<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
		    		<span class="sr-only">Previous</span>
		  		</a>
		  		<a class="right carousel-control" href="#recipe-images-carousel" role="button" data-slide="next">
		    		<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
		    		<span class="sr-only">Next</span>
		  		</a>
			</div>
		</div>
			
		<div id="graphic-information" class="recipe-image-overlay row" style="clear: both;">
			{% if edit %}
			<div style="text-align: left; color: white; margin-bottom: 10px;">
		   		<div id="active-time-changer" class="field-changer spinner-changer">
			    	<h3>Actieve Kooktijd</h3>
			    	<span id="active-time-changer-input" class="editable-field">{{ recipe.active_time }}</span>
			    	{{ form.active_time }}
			    	<br class="clear" />
			    </div>
			    <div id="passive-time-changer" class="field-changer spinner-changer">
			    	<h3>Passieve Kooktijd</h3>
			    	<span id="passive-time-changer-input" class="editable-field">{{ recipe.passive_time }}</span>
			    	{{ form.passive_time }}
			    	<br class="clear" />
			    </div>
			</div>
			
			{% elif recipe.is_temp %}
			<br /><br /><br /><br />
			{% else %}
			<div id="veganism" class="graphic-information-icon">
				{% if recipe.veganism == 2 %}
			    <img src="{{ STATIC_URL }}img/icons/vegan.png" class="popover-element"
			     	 data-toggle="popover" data-trigger="click hover" data-placement="top"
			         data-title="Veganistisch" data-content="Dit recept bevat geen vlees, vis of afgeleide dierlijke producten." />
			    {% elif recipe.veganism == 1 %}
		    	<img src="{{ STATIC_URL }}img/icons/vegetarian.png" class="popover-element"
			     	 data-toggle="popover" data-trigger="click hover" data-placement="top"
			         data-title="Vegetarisch" data-content="Dit recept bevat geen vless of vis, maar eventueel wel afgeleide dierlijke producten (bv. ei, koemelk, ...)." />
		        {% elif recipe.veganism == 0 %}
		    	<img src="{{ STATIC_URL }}img/icons/non-vegetarian.png" class="popover-element"
			     	 data-toggle="popover" data-trigger="click hover" data-placement="top"
			         data-title="Niet-vegetarisch" data-content="Dit recept bevat kan vlees, vis of afgeleide dierlijke producten (bv. ei, koemelk, ...) bevatten." />
		    	{% endif %}
		    </div>
			<div id="fp-category" class="graphic-information-icon">
				<span class="positioner">
					<img src="{{ STATIC_URL }}img/decoration/{{ recipe.fp_category.get_ribbon_image_name }}" class="popover-element"
			     	 	 data-toggle="popover" data-trigger="click hover" data-placement="top" 
					     data-title="Categorie {{ recipe.fp_category.get_name_display }}"
					     data-content="{{ recipe.fp_category.extra_info }}" />
				</span>
			</div>
			<div id="recipe-footprint" class="graphic-information-icon">
				<span id="recipe-footprint-text" class="text-overlay popover-element" 
				      data-toggle="popover" data-trigger="click hover" data-placement="top" 
					  data-title="Ecologische Voetafdruk"
					  data-content="Dit recept heeft een voetafdruk van {{ recipe.footprint|floatformat:2 }} kgCO&#8322; per portie.">
			      	{{ recipe.footprint|floatformat:2 }}
			      	<span style="display: block;font-size:16px">kgCO₂ p.p.</span>
				</span>
			</div>
			<div id="recipe-duration" class="graphic-information-icon">
				<img src="{{ STATIC_URL }}img/decoration/clock.png" />
				<span id="recipe-footprint-text" class="text-overlay popover-element" 
				      data-toggle="popover" data-trigger="click hover" data-placement="top" 
					  data-title="Bereidingstijd"
					  data-content="Dit recept duurt {{ recipe.total_preparation_time }} minuten om klaar te maken (waarvan je {{ recipe.active_time }} minuten actief bezig zal zijn).">
				      {{ recipe.total_preparation_time }}
				      <span style="display: block;font-size:18px;line-height:15px;">min</span>
				</span>
			</div>
			<div id="recipe-upvotes" class="graphic-information-icon">
				<div style="position: relative; display: inline-block; width: 60px; height: 100%;" class="popover-element"
					 data-toggle="popover" data-trigger="click hover" data-placement="top" 
					 data-title="Waardering"
					 data-content="{% if recipe.upvotes <= 0 %}Nog niemand heeft aangegeven dit gerecht lekker te vinden.{% else %}{{ recipe.upvotes }} mensen vinden dit gerecht lekker.{% endif %}">
					<div id="upvote-count" class="upvote-bubble">{{ recipe.upvotes }}</div>
					{% if user.is_authenticated %}
					<a id="upvote-button" href="#" onclick="upvote();return false;"{% if user_has_upvoted %} style="display: none;"{% endif %}><img src="{{ STATIC_URL }}img/icons/lekker.png" style="position: absolute; left: 0; bottom: 0; width: 60px; height: auto; opacity: 0.5;"/></a>
					<a id="downvote-button" href="#" onclick="downvote();return false;"{% if not user_has_upvoted %} style="display: none;"{% endif %}><img src="{{ STATIC_URL }}img/icons/lekker.png" style="position: absolute; left: 0; bottom: 0; width: 60px; height: auto;"/></a>
					{% else %}
					<a id="upvote-button" href="{% url 'login' %}?next={{ request.get_full_path }}"><img src="{{ STATIC_URL }}img/icons/lekker.png" style="position: absolute; left: 0; bottom: 0; width: 60px; height: auto;"/></a>
					{% endif %}
				</div>
			</div>
			<br class="clear" />
			{% endif %}
		</div>
	</div>
</div>
	
<div id="basic-information" class="row">
	{% if edit %}
	<div class="col-xs-12" style="margin-bottom: 60px;">
		<div id="cuisine-changer" class="field-changer row">
			<h3 class="col-xs-12 col-sm-6">Herkomst van het recept</h3>
			<div class="col-xs-12-col-sm-6">
				<span class="editable-field" default="(Herkomst van het recept)">{{ recipe.cuisine|default_if_none:'---------' }}</span>
				{{ form.cuisine }}
			</div>
			<br class="clear" />
		</div>
		<div id="course-changer" class="field-changer row">
			<h3 class=" col-xs-12 col-sm-6">Soort recept</h3>
			<div class="col-xs-12-col-sm-6">
				<span class="editable-field" default="(Soort recept)">{{ recipe.get_course_display|default_if_none:'---------' }}</span>
				{{ form.course }}
			</div>
			<br class="clear" />
		</div>
	</div>
	{% else %}
	<h4 class="col-xs-12">
		{% if recipe.cuisine %}
	    <span itemprop="recipeCuisine">{{ recipe.cuisine }}</span>{% if recipe.course == 4 or recipe.course == 6 or recipe.course == 8 or recipe.course == 9 %}e{% endif %} 
	    <span itemprop="recipeCategory">{{ recipe.get_course_display|lower }}</span>
	    {% else %}
	    <span itemprop="recipeCategory">{{ recipe.get_course_display }}</span>
	    {% endif %}
	</h4>
    {% endif %}
    
    <div id="description-container" class="col-xs-12">
    	{% if edit %}
		<div class="editable-field" style="padding-top: 5px; padding-bottom: 5px;"
		     default="(Korte beschrijving van het recept)">
		  	{{ recipe.description|linebreaks }}
		</div>
    	{{ form.description }}
		{% else %}
		<p>
    		{{ recipe.description }}
    	</p>
    	{% endif %}
    </div>
</div>
                
<h2 class="row">
   	<span class="">Ingrediënten</span>
</h2>
	
<div class="row">  	
   	<div id="portions-changer" class="col-xs-12">
   		{% if edit %}
   		<div id="portions-changer-edit" class="field-changer spinner-changer">
	    	<h3>Porties</h3>
	    	<span id="portions-changer-input" class="editable-field">{{ recipe.portions }}</span>
	    	{{ form.portions }}
	    	<br class="clear" />
	    </div>
	    {% elif recipe.is_temp %}
   		<div id="portions-changer-edit" class="field-changer spinner-changer">
	    	<h3>Porties</h3>
	    	<h3 id="t-portions-display" style="text-align:left;'">{{ recipe.portions }}</h3>
	    	<br class="clear" />
	    </div>
	    {% else %}
   		<span>Porties</span>
   		<span id="portions-changer-input">
   			<input id="portions-spinner" type="text" value={{ recipe.portions }} />
   		</span>
   		{% endif %}
   		<br class="clear" />
   	</div>
</div>

{% if edit %}
<div id="swaplist" class="ingredients-wrapper" style="position: relative;"></div>
{% endif %}

<div id="ingredients-wrapper" class="ingredients-wrapper row">
	{% if edit %}
	
	<div id="edit-ingredients-container">
	
	{% include "includes/edit_ingredients_list.html" %}
	
	</div>
	

	<div id="ingredient-buttons" class="col-xs-12 text-center">
		<a id="add-ingredient-button" class="btn btn-success" href="#">Ingredïënt toevoegen</a>
	</div>
	{% else %}
	<div id="ingredients">
		
	</div>

	<div id="ingredients-darkener" class="row">
      	<span id="ingredients-loader">
       		{% include "includes/big-ajax-loader.html" %}
       	</span>
   	</div>
   	{% endif %}
</div>

{% if recipe.extra_info %}
<div id="extra-info" class="row">
	<h4>Extra info en benodigdheden</h4>
	{% if edit %}
	<div class="editable-field" style="padding-top: 5px; padding-bottom: 5px;"
	     default="(Extra informatie en benodigdheden voor de bereiding van het recept)">
	  	{{ recipe.extra_info|linebreaks }}
	</div>
	{{ form.extra_info }}
	{% else %}
    <div>
       	{{ recipe.extra_info|linebreaks }}
    </div>
    {% endif %}
</div>
{% endif %}
		        
		        
<h2 class="row">
   	<span>Bereiding</span>
</h2>
		        
<div id="instructions-container" class="row markdown-container">
	{% if edit %}
	<div class="col-xs-12">
		<div id="instructions" class="editable-field">
			{% if recipe.instructions %}
			<div>{{ recipe.instructions|markdown|safe }}</div>
			{% else %}
			(Bereidingsinstructies voor het recept)
			{% endif %}
		</div>
		{{ form.instructions }}
	</div>
	{% else %}
	<div id="instructions-warning" class="col-xs-12">
		Opgelet! De onderstaande instructies zijn opgesteld voor {{ recipe.portions }} porties. Je hebt het aantal porties aangepast waardoor het mogelijk
	    is dat deze instructies niet meer volledig accuraat zijn. Hou hier rekening mee.
	</div>
	{% if recipe.external %}
	<div class="col-xs-12 col-sm-6 col-sm-offset-3">
		<a id="external-link" class="btn btn-success" href="http://www.seasoning.be{% url 'external_recipe' recipe.id %}">
		 	Bekijk het volledige recept op {{ recipe.external_site.name }}
		</a>
	</div>
	{% else %}
	<div id="instructions" itemprop="recipeInstructions" class="col-xs-12">
		{{ recipe.instructions|markdown|safe }}
	</div>
    {% endif %}
    {% endif %}
</div>

{% if edit %}
		
<div class="edit-recipe-buttons">
	<a class="accept-button" href="#"><img src="{{ STATIC_URL }}img/icons/accept.png" /></a>
	<a class="reject-button" href="#"><img src="{{ STATIC_URL }}img/icons/decline.png" /></a>
</div>

</form>

<div id="finish-editing-container">
	{% if recipe.is_temp %}
	<a href="{% url 'save_incomplete_recipe' recipe.id %}" class="btn btn-success">Klik hier als je klaar bent met dit recept te wijzigen</a>
	{% else %}
	<a href="{% url 'view_recipe' recipe.id %}" class="btn btn-success">Klik hier als je klaar bent met dit recept te wijzigen</a>
	{% endif %}
	
	{% if user.is_staff and not recipe.is_temp %}
	<a href="{% url 'admin:ingredients_ingredient_add' %}" target=_blank" class="btn btn-default pull-left">Maak een nieuw ingrediënt</a>
	{% endif %}
	
	{% if recipe.external and user.is_staff %}
	<a href="{{ recipe.external_url }}" target=_blank" class="btn btn-default pull-right">Open het originele recept</a>
	{% endif %}
</div>

{% elif not recipe.is_temp %}   
<h2 class="row">
   	<span>Grafieken</span>
</h2>
                
<div id="recipe-charts" class="row">
	
	<script type="text/javascript"
          src="https://www.google.com/jsapi?autoload={
            'modules':[{
              'name':'visualization',
              'version':'1',
              'packages':['corechart']
            }]
          }"></script>

    <script type="text/javascript">
    	google.setOnLoadCallback(drawCharts);
    	
    	jsonData = null;
		
		function drawCharts() {
		
			if (!jsonData) {
				jsonData = $.ajax({
		        	url: "{% url 'graph_rfe' recipe.id %}",
		            dataType:"json",
		            async: false
		        }).responseJSON;
			}

    		var data = google.visualization.arrayToDataTable(jsonData.data);

			var options = {
	          	curveType: 'none',
	          	vAxis: { 
	          		minValue: 0,
	          		title: 'Voetafdruk (per portie)'},
	          	legend: { position: 'none' },
	          	tooltip: {isHtml: true},
	          	pointSize: 5,
	          	colors: ['#629b31'],
				chartArea: {'width': '85%', 'height': '80%'},
	        };

			var chart = new google.visualization.LineChart(document.getElementById('recipe-fpevo-chart'));

        	google.visualization.events.addOneTimeListener(chart, 'ready', function () {
        		
        	    var container = document.querySelector('#recipe-fpevo-chart > div:last-child');
        	    
        	    function setPosition(e) {
        	    	if (e && e.target) {
        	        	var tooltip = $(e.target);
        	          	setTimeout(function () {
        	            	var left = parseFloat(tooltip.css('left')) - 49;
        	            	var top = parseFloat(tooltip.css('top')) - 40;
        	            	tooltip.css('left', left + 'px');
        	            	tooltip.css('top', top + 'px');
        	            	$(".google-visualization-tooltip").fadeIn(200);
        	          	}, 1);
        	      	} else {
        	        	var tooltip = container.querySelector('.google-visualization-tooltip');
        	        	var left = parseFloat(tooltip.style.left) - 49;
        	        	var top = parseFloat(tooltip.style.top) - 40;
        	        	tooltip.style.left = left + 'px';
        	        	tooltip.style.top = top + 'px';
        	        	$(".google-visualization-tooltip").fadeIn(200);
        	      	}
        	    }
        	    
        	    if (typeof MutationObserver === 'function') {
        	    	var observer = new MutationObserver(function (m) {
        	        	if (m.length && m[0].addedNodes.length) {
        	          		setPosition(m);
        	        	}
        	      	});
        	      	observer.observe(container, {
        	        	childList: true
        	      	});
        	    } else if (document.addEventListener) {
        	    	container.addEventListener('DOMNodeInserted', setPosition);
        	    } else {
        	    	container.attachEvent('onDOMNodeInserted', setPosition);
        	    }
			});
        	
        	chart.draw(data, options);
        	
      	}
        
      	$(window).resize(function(){
			drawCharts();
      	});
    </script>
	
	
	
    <h4>Verloop van de voetafdruk doorheen het jaar</h4>
    <div id="recipe-fpevo-chart">            
    </div>
     
    <!-- 
    <h4>In vergelijking met andere recepten</h4>
	<div id="chart-tabs" class="col-xs-12">
    	<ul>
        	<li><a href="#tabs-1">Alle {{ recipe.get_course_display }}</a></li>
            <li><a href="#tabs-2">Alle {{ recipe.get_veganism_display|lower }}e recepten</a></li>
            <li><a href="#tabs-3">Alle recepten</a></li>
        </ul>
        <div id="tabs-1">
        	<div id="recipe-fpdist-chart">
        	
        	</div>
        </div>
        <div id="tabs-2">
        </div>
        <div id="tabs-3">
        </div>
    </div>
    -->
</div>





<!-- Modal -->
<div class="modal fade" id="image-upload-crop-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  	<div class="modal-dialog modal-lg">
    	<div class="modal-content">
      		<div class="modal-header">
        		<button type="button" class="close" onclick="close_uploaded_image_crop();" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        		<h4 class="modal-title" id="myModalLabel">Selecteer het zichtbare deel van de afbeelding</h4>
      		</div>
      		<div class="modal-body">
      			<img id="uploaded-image-preview" src="" />
    		</div>
   			<div class="modal-footer">
    			<button type="button" class="btn btn-default" onclick="close_uploaded_image_crop();">Close</button>
        		<button type="button" class="btn btn-success" onclick="finish_uploaded_image_crop();">Save changes</button>
      		</div>
    	</div>
  	</div>
</div>
{% endif %}

{% endblock %}
